<h2>Create Form</h2>

<input id="formName" placeholder="Form Name"><br><br>
<button onclick="createForm()">Create Form</button>

<h3>Add Field</h3>
<input id="label" placeholder="Label">
<select id="type">
  <option value="text">Text</option>
  <option value="number">Number</option>
  <option value="date">Date</option>
  <option value="email">Email</option>
</select>
<input id="order" placeholder="Order">
<button onclick="addField()">Add Field</button>

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script src="app.js"></script>
<script>
let formId = null;

function createForm() {
  axios.post(`${API_BASE}/forms/forms/`, {
    name: document.getElementById("formName").value
  }, authHeader()).then(res => {
    formId = res.data.id;
    alert("Form created");
  });
}

function addField() {
  axios.post(`${API_BASE}/forms/forms/${formId}/fields/`, {
    label: document.getElementById("label").value,
    field_type: document.getElementById("type").value,
    order: document.getElementById("order").value
  }, authHeader()).then(() => alert("Field added"));
}
</script>
